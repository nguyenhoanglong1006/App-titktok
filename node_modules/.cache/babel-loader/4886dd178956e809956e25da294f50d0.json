{"ast":null,"code":"import _slicedToArray from \"T:\\\\AHocKi1\\\\App_Tiktok\\\\tiktok\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"T:\\\\AHocKi1\\\\App_Tiktok\\\\tiktok\\\\src\\\\App.js\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport \"./App.css\";\nimport Video from \"./components/Video\";\nimport db from \"./firebase\";\nfunction App() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    videos = _useState2[0],\n    setVideos = _useState2[1];\n  useEffect(function () {\n    db.collection(\"videos\").get().then(function (querySnapshot) {\n      setVideos(querySnapshot.docs.map(function (doc) {\n        return doc.data();\n      }));\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"focus\",\n    tabIndex: \"1\",\n    className: \"flex flex-col items-center snap-y snap-mandatory overflow-scroll h-screen overflow-x-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, videos.map(function (video) {\n    return /*#__PURE__*/React.createElement(Video, {\n      data: video,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    });\n  }));\n}\nexport var useElementOnScreen = function useElementOnScreen(options, targetRef) {\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isVisibile = _useState4[0],\n    setIsVisible = _useState4[1];\n  var callbackFunction = function callbackFunction(entries) {\n    var _entries = _slicedToArray(entries, 1),\n      entry = _entries[0]; //const entry = entries[0]\n    setIsVisible(entry.isIntersecting);\n  };\n  var optionsMemo = useMemo(function () {\n    return options;\n  }, [options]);\n  useEffect(function () {\n    var observer = new IntersectionObserver(callbackFunction, optionsMemo);\n    var currentTarget = targetRef.current;\n    if (currentTarget) observer.observe(currentTarget);\n    return function () {\n      if (currentTarget) observer.unobserve(currentTarget);\n    };\n  }, [targetRef, optionsMemo]);\n  return isVisibile;\n};\nexport default App;","map":{"version":3,"names":["useEffect","useState","useMemo","Video","db","App","videos","setVideos","collection","get","then","querySnapshot","docs","map","doc","data","video","useElementOnScreen","options","targetRef","isVisibile","setIsVisible","callbackFunction","entries","entry","isIntersecting","optionsMemo","observer","IntersectionObserver","currentTarget","current","observe","unobserve"],"sources":["T:/AHocKi1/App_Tiktok/tiktok/src/App.js"],"sourcesContent":["import { useEffect, useState, useMemo } from \"react\";\n\nimport \"./App.css\";\nimport Video from \"./components/Video\";\nimport db from \"./firebase\";\n\nfunction App() {\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    db.collection(\"videos\")\n      .get()\n      .then((querySnapshot) => {\n        setVideos(querySnapshot.docs.map((doc) => doc.data()));\n      });\n  }, []);\n  return (\n    <div\n      id=\"focus\"\n      tabIndex=\"1\"\n      className=\"flex flex-col items-center snap-y snap-mandatory overflow-scroll h-screen overflow-x-hidden\"\n    >\n      {videos.map((video) => (\n        <Video data={video} />\n      ))}\n    </div>\n  );\n}\n\nexport const useElementOnScreen = (options, targetRef) => {\n  const [isVisibile, setIsVisible] = useState();\n  const callbackFunction = (entries) => {\n    const [entry] = entries; //const entry = entries[0]\n    setIsVisible(entry.isIntersecting);\n  };\n  const optionsMemo = useMemo(() => {\n    return options;\n  }, [options]);\n  useEffect(() => {\n    const observer = new IntersectionObserver(callbackFunction, optionsMemo);\n    const currentTarget = targetRef.current;\n    if (currentTarget) observer.observe(currentTarget);\n\n    return () => {\n      if (currentTarget) observer.unobserve(currentTarget);\n    };\n  }, [targetRef, optionsMemo]);\n  return isVisibile;\n};\n\nexport default App;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAEpD,OAAO,WAAW;AAClB,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,EAAE,MAAM,YAAY;AAE3B,SAASC,GAAG,GAAG;EAAA;EAAA,gBACeJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAjCK,MAAM;IAAEC,SAAS;EACxBP,SAAS,CAAC,YAAM;IACdI,EAAE,CAACI,UAAU,CAAC,QAAQ,CAAC,CACpBC,GAAG,EAAE,CACLC,IAAI,CAAC,UAACC,aAAa,EAAK;MACvBJ,SAAS,CAACI,aAAa,CAACC,IAAI,CAACC,GAAG,CAAC,UAACC,GAAG;QAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;MAAA,EAAC,CAAC;IACxD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EACN,oBACE;IACE,EAAE,EAAC,OAAO;IACV,QAAQ,EAAC,GAAG;IACZ,SAAS,EAAC,6FAA6F;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEtGT,MAAM,CAACO,GAAG,CAAC,UAACG,KAAK;IAAA,oBAChB,oBAAC,KAAK;MAAC,IAAI,EAAEA,KAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAAA,CACvB,CAAC,CACE;AAEV;AAEA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,CAAIC,OAAO,EAAEC,SAAS,EAAK;EAAA,iBACrBlB,QAAQ,EAAE;IAAA;IAAtCmB,UAAU;IAAEC,YAAY;EAC/B,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,OAAO,EAAK;IAAA,8BACpBA,OAAO;MAAhBC,KAAK,gBAAa;IACzBH,YAAY,CAACG,KAAK,CAACC,cAAc,CAAC;EACpC,CAAC;EACD,IAAMC,WAAW,GAAGxB,OAAO,CAAC,YAAM;IAChC,OAAOgB,OAAO;EAChB,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACblB,SAAS,CAAC,YAAM;IACd,IAAM2B,QAAQ,GAAG,IAAIC,oBAAoB,CAACN,gBAAgB,EAAEI,WAAW,CAAC;IACxE,IAAMG,aAAa,GAAGV,SAAS,CAACW,OAAO;IACvC,IAAID,aAAa,EAAEF,QAAQ,CAACI,OAAO,CAACF,aAAa,CAAC;IAElD,OAAO,YAAM;MACX,IAAIA,aAAa,EAAEF,QAAQ,CAACK,SAAS,CAACH,aAAa,CAAC;IACtD,CAAC;EACH,CAAC,EAAE,CAACV,SAAS,EAAEO,WAAW,CAAC,CAAC;EAC5B,OAAON,UAAU;AACnB,CAAC;AAED,eAAef,GAAG"},"metadata":{},"sourceType":"module"}